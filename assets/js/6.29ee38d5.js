(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{168:function(t,s,a){t.exports=a.p+"assets/img/get_post.c1eb4379.jpg"},184:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h3",{attrs:{id:"http"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http","aria-hidden":"true"}},[t._v("#")]),t._v(" http")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。\n所有的WWW文件都必须遵守这个标准。设计HTTP最初的目的是为了提供一种发布和接收HTML页面的方法。")]),t._v(" "),n("h3",{attrs:{id:"http方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http方法","aria-hidden":"true"}},[t._v("#")]),t._v(" http方法")]),t._v(" "),n("p",[t._v("HTTP 支持几种不同的请求命令，这些命令被称为 HTTP 方法(HTTP method)。每 条 HTTP 请求报文都包含一个方法。这个方法会告诉服务器要执行什么动作(获取 一个 Web 页面、运行一个网关程序、删除一个文件等)。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("HTTP方法")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("GET")]),t._v(" "),n("td",[t._v("从服务器向客户端发送命名资源")])]),t._v(" "),n("tr",[n("td",[t._v("POST")]),t._v(" "),n("td",[t._v("将来自客户端的数据存储到一个命名的服务器资源中去")])]),t._v(" "),n("tr",[n("td",[t._v("DELETE")]),t._v(" "),n("td",[t._v("从服务器中删除命名资源")])]),t._v(" "),n("tr",[n("td",[t._v("POST")]),t._v(" "),n("td",[t._v("将客户端数据发送到一个服务器网关应用程序")])]),t._v(" "),n("tr",[n("td",[t._v("HEAD")]),t._v(" "),n("td",[t._v("仅发送命名资源响应中的 HTTP 首部")])])])]),t._v(" "),n("p",[n("img",{attrs:{src:a(168),alt:"prototype关系图"}})]),t._v(" "),n("h3",{attrs:{id:"http-https-协议"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-https-协议","aria-hidden":"true"}},[t._v("#")]),t._v(" http/https 协议")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("1.0 协议缺陷:")]),t._v(" "),n("ul",[n("li",[t._v("无法复用链接，完成即断开，重新慢启动和 TCP 3次握手")]),t._v(" "),n("li",[t._v("head of line blocking: 线头阻塞，导致请求之间互相影响")])])]),t._v(" "),n("li",[n("p",[t._v("1.1 改进:")]),t._v(" "),n("ul",[n("li",[t._v("长连接(默认 keep-alive)，复用")]),t._v(" "),n("li",[t._v("host 字段指定对应的虚拟站点")]),t._v(" "),n("li",[t._v("新增功能:\n"),n("ul",[n("li",[t._v("断点续传")]),t._v(" "),n("li",[t._v("身份认证")]),t._v(" "),n("li",[t._v("状态管理")]),t._v(" "),n("li",[t._v("cache 缓存\n"),n("ul",[n("li",[t._v("Cache-Control")]),t._v(" "),n("li",[t._v("Expires")]),t._v(" "),n("li",[t._v("Last-Modified")]),t._v(" "),n("li",[t._v("Etag")])])])])])])]),t._v(" "),n("li",[n("p",[t._v("2.0:")]),t._v(" "),n("ul",[n("li",[t._v("多路复用")]),t._v(" "),n("li",[t._v("二进制分帧层: 应用层和传输层之间")]),t._v(" "),n("li",[t._v("首部压缩")]),t._v(" "),n("li",[t._v("服务端推送")])])]),t._v(" "),n("li",[n("p",[t._v("https: 较为安全的网络传输协议")]),t._v(" "),n("ul",[n("li",[t._v("证书(公钥)")]),t._v(" "),n("li",[t._v("SSL 加密")]),t._v(" "),n("li",[t._v("端口 443")])])]),t._v(" "),n("li",[n("p",[t._v("TCP:")]),t._v(" "),n("ul",[n("li",[t._v("三次握手"),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("三次握手")]),t._v(" "),n("ul",[n("li",[t._v("客户端发送 syn(同步序列编号) 请求，进入 syn_send 状态，等待确认")]),t._v(" "),n("li",[t._v("服务端接收并确认 syn 包后发送 syn+ack 包，进入 syn_recv 状态")]),t._v(" "),n("li",[t._v("客户端接收 syn+ack 包后，发送 ack 包，双方进入 established 状态")])])])]),t._v(" "),n("li",[t._v("四次挥手"),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("四次握手")]),t._v(" "),n("ul",[n("li",[t._v("客户端 -- FIN --\x3e 服务端， FIN—WAIT")]),t._v(" "),n("li",[t._v("服务端 -- ACK --\x3e 客户端， CLOSE-WAIT")]),t._v(" "),n("li",[t._v("服务端 -- ACK,FIN --\x3e 客户端， LAST-ACK")]),t._v(" "),n("li",[t._v("客户端 -- ACK --\x3e 服务端，CLOSED")])])]),t._v(" "),n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("为什么建立连接协议是三次握手，而关闭连接却是四次握手呢？")]),t._v(" "),n("p",[t._v("这是因为服务端的LISTEN状态下的SOCKET当收到SYN报文的连接请求后，它可以把ACK和SYN(ACK起应答作用，而SYN起同步作用)放在一个报文里来发送。但关闭连接时，当收到对方的FIN报文通知时，它仅仅表示对方没有数据发送给你了；但未必你所有的数据都全部发送给对方了，所以你可能未必会马上会关闭SOCKET,也即你可能还需要发送一些数据给对方之后，再发送FIN报文给对方来表示你同意现在可以关闭连接了，所以它这里的ACK报文和FIN报文多数情况下都是分开发送的。")])])]),t._v(" "),n("li",[t._v("滑动窗口: 流量控制")]),t._v(" "),n("li",[t._v("拥塞处理")])])]),t._v(" "),n("li",[n("p",[t._v("缓存策略: 可分为 强缓存 和 协商缓存")]),t._v(" "),n("ul",[n("li",[t._v("Cache-Control/Expires: 浏览器判断缓存是否过期，未过期时，直接使用强缓存，Cache-Control的 max-age 优先级高Expires")]),t._v(" "),n("li",[t._v("当缓存已经过期时，使用协商缓存\n"),n("ul",[n("li",[t._v("唯一标识方案: Etag(response 携带) & If-None-Match(request携带，上一次返回的 Etag): 服务器判断资源是否被修改")]),t._v(" "),n("li",[t._v("最后一次修改时间: Last-Modified(response) & If-Modified-Since (request，上一次返回的Last-Modified)\n"),n("ul",[n("li",[t._v("如果一致，则直接返回 304 通知浏览器使用缓存")]),t._v(" "),n("li",[t._v("如不一致，则服务端返回新的资源")])])])])]),t._v(" "),n("li",[t._v("Last-Modified 缺点：\n"),n("ul",[n("li",[t._v("周期性修改，但内容未变时，会导致缓存失效")]),t._v(" "),n("li",[t._v("最小粒度只到 s， s 以内的改动无法检测到")])])]),t._v(" "),n("li",[t._v("Etag 的优先级高于 Last-Modified")])])])]),t._v(" "),n("h3",{attrs:{id:"跨域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跨域","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨域")]),t._v(" "),n("ul",[n("li",[t._v("JSONP: 利用"),n("code",[t._v("<script>")]),t._v("标签不受跨域限制的特点，缺点是只能支持 get 请求"),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jsonpCallback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" success"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" script "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/javascript'")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jsonpCallback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    success "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])])]),t._v(" "),n("li",[t._v("设置 CORS: Access-Control-Allow-Origin：*")]),t._v(" "),n("li",[t._v("postMessage")])])])}],v=a(0),_=Object(v.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=_.exports}}]);